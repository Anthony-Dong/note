# HTTPS与TLS/SSL的那些事



文章链接 , 我感觉讲的不错 https://blog.csdn.net/hherima/article/details/52469267 , 



HTTP协议是应用层协议. 而TLS/SSL是传输层协议上层.

 ![](https://tyut.oss-accelerate.aliyuncs.com/image/2020-20-22/147cdc6e-3988-4698-bf92-1e21ed2f0ea8.webp?x-oss-process=style/template01)



HTTP是采用 对称加密 和 非对称加密 结合的方式来保护浏览器和服务端之间的通信安全。对称加密算法加密数据+非对称加密算法交换密钥+数字证书验证身份=安全



主要就是HTTPS如何实现高效的网络传输.  安全但也是必须高效的. 不然我说一句话 .一需要浪费成倍的时间在处理数据加密. 

### 大致握手流程

握手过程只会涉及到一次非对称加密.  其后都是对称加密. 

**第一步** : client 发送一些信息 , 包含他支持的加密算法. 压缩方式,版本号之类信息, 和一个随机的数字. 

**第二步** : server收到后 果断的从加密算法和压缩方式中都各选择一个. 然后返回一个随机数字. 协议版本号, 同时顺便把自己的证书给client .(CA证书包含公钥,还有过期时间一堆信息,你只知道我们是公钥就行了)  ,

**第三步** : client 收到后(先去机构认证证书(假定认证通过了.)) .合法性验证通过之后,客户端计算产生随机数字 , 并且用证书中的公钥加密 , 发送给服务器 . 此时client已经有两个明文随机数(就是没有加密的)和一个通过计算得到的随机数(发送出去是加密的) , 此时可以生成一把秘钥 , 同时还要将

**第四步** : server收到公钥加密的数据后 , 拿着自己的私钥进行解密 , 解密出这个随机数, 由于事先知道两个明文随机数, 根据这三个随机和协定的算法就产生秘钥了 .  (此时如果没有问题, 客户端和服务器端都会各自有一把相同的秘钥 , 这个秘钥就是为了以后的加密传输用的.用这个秘钥和协定好的加密方式) . 



其实还有很多细节没有讲到,比如hash校验之类的.

​	 大致流程就是这个 ,其实很安全的, 加入这些过程中都有一个中间者 , 知情 . 那么它可以知道前两个随机数, 但是第三个随机数是通过公钥加密的.  只有服务器拿着私钥进行解密的. 所以中间者并不知道以后通信的这个秘钥. 所以他只能拿着一段密文不知道咋解密. 懂了吧.  

​	整个流程就是为了确定两者进行加密的秘钥, 但是如何在这样不安全的环境获取秘钥呢. 这就是SSL/TLS做的. 他就是为http加了一层壳.  





后面可能涉及到很多东西 /// 我也不了解



